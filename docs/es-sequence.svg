<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1065px" preserveAspectRatio="none" style="width:539px;height:1065px;background:#FFFFFF;" version="1.1" viewBox="0 0 539 1065" width="539px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="928.1387" style="stroke:#181818;stroke-width:1.0;" width="10" x="110.5" y="112.7988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="190.1309"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="248.752"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="307.373"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="414.0156"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="472.6367"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="531.2578"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="614.1895"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="739.4316"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="888.3848"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="982.3164"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="443.5" x="79" y="575.5684"/><rect fill="none" height="111.2422" style="stroke:#000000;stroke-width:1.5;" width="443.5" x="79" y="665.5"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="81.4883" y2="1058.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="115" x2="115" y1="81.4883" y2="1058.9375"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="494.5" x2="494.5" y1="81.4883" y2="1058.9375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="5" y="78.5352">developer</text><ellipse cx="42" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42,21.5 L42,48.5 M29,29.5 L55,29.5 M42,48.5 L29,63.5 M42,48.5 L55,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="89" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="96" y="70.5352">demo</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="15" x="484" y="78.5352">es</text><path d="M476.5,29 C476.5,19 494.5,19 494.5,19 C494.5,19 512.5,19 512.5,29 L512.5,55 C512.5,65 494.5,65 494.5,65 C494.5,65 476.5,65 476.5,55 L476.5,29 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M476.5,29 C476.5,39 494.5,39 494.5,39 C494.5,39 512.5,39 512.5,29 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="928.1387" style="stroke:#181818;stroke-width:1.0;" width="10" x="110.5" y="112.7988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="190.1309"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="248.752"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="307.373"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="414.0156"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="472.6367"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="531.2578"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="614.1895"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="739.4316"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="888.3848"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="489.5" y="982.3164"/><polygon fill="#181818" points="98.5,108.7988,108.5,112.7988,98.5,116.7988,102.5,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="42" x2="104.5" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="49" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="62" y="108.0566"> </text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="532.5" x="0" y="143.8096"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="532.5" y1="143.8096" y2="143.8096"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="532.5" y1="146.8096" y2="146.8096"/><rect fill="#EEEEEE" height="28.0215" style="stroke:#000000;stroke-width:2.0;" width="252" x="140.25" y="130.7988"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="238" x="146.25" y="151.2344">インデックス作成・データ投入</text><polygon fill="#181818" points="477.5,186.1309,487.5,190.1309,477.5,194.1309,481.5,190.1309" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="190.1309" y2="190.1309"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127.5" y="185.3887">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="140.5" y="185.3887">DELETE /tmdb</text><polygon fill="#181818" points="131.5,215.4414,121.5,219.4414,131.5,223.4414,127.5,219.4414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="219.4414" y2="219.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="137.5" y="214.6992">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="150.5" y="214.6992"> </text><polygon fill="#181818" points="477.5,244.752,487.5,248.752,477.5,252.752,481.5,248.752" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="248.752" y2="248.752"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127.5" y="244.0098">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="140.5" y="244.0098">PUT /tmdb</text><polygon fill="#181818" points="131.5,274.0625,121.5,278.0625,131.5,282.0625,127.5,278.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="278.0625" y2="278.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="137.5" y="273.3203">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="150.5" y="273.3203"> </text><polygon fill="#181818" points="477.5,303.373,487.5,307.373,477.5,311.373,481.5,307.373" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="307.373" y2="307.373"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127.5" y="302.6309">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="140.5" y="302.6309">PUT /tmdb/_bulk</text><polygon fill="#181818" points="131.5,332.6836,121.5,336.6836,131.5,340.6836,127.5,336.6836" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="336.6836" y2="336.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="137.5" y="331.9414">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="150.5" y="331.9414"> </text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="532.5" x="0" y="367.6943"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="532.5" y1="367.6943" y2="367.6943"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="532.5" y1="370.6943" y2="370.6943"/><rect fill="#EEEEEE" height="28.0215" style="stroke:#000000;stroke-width:2.0;" width="99" x="216.75" y="354.6836"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="85" x="222.75" y="375.1191">モデル学習</text><polygon fill="#181818" points="477.5,410.0156,487.5,414.0156,477.5,418.0156,481.5,414.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="414.0156" y2="414.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="127.5" y="409.2734">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="140.5" y="409.2734">DELETE /_ltr</text><polygon fill="#181818" points="131.5,439.3262,121.5,443.3262,131.5,447.3262,127.5,443.3262" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="443.3262" y2="443.3262"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="137.5" y="438.584">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="150.5" y="438.584"> </text><polygon fill="#181818" points="477.5,468.6367,487.5,472.6367,477.5,476.6367,481.5,472.6367" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="472.6367" y2="472.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="127.5" y="467.8945">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="149.5" y="467.8945">PUT /_ltr</text><polygon fill="#181818" points="131.5,497.9473,121.5,501.9473,131.5,505.9473,127.5,501.9473" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="501.9473" y2="501.9473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="137.5" y="497.2051">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="159.5" y="497.2051"> </text><polygon fill="#181818" points="477.5,527.2578,487.5,531.2578,477.5,535.2578,481.5,531.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="531.2578" y2="531.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="127.5" y="526.5156">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="149.5" y="526.5156">POST /_ltr/_featureset/movie_features</text><polygon fill="#181818" points="131.5,556.5684,121.5,560.5684,131.5,564.5684,127.5,560.5684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="560.5684" y2="560.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="137.5" y="555.8262">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="159.5" y="555.8262"> </text><path d="M79,575.5684 L153,575.5684 L153,582.8789 L143,592.8789 L79,592.8789 L79,575.5684 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:1.5;" width="443.5" x="79" y="575.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="94" y="589.1367">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="173" x="168" y="588.2031">[利用する判定データのクエリ数回]</text><polygon fill="#181818" points="477.5,610.1895,487.5,614.1895,477.5,618.1895,481.5,614.1895" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="614.1895" y2="614.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="127.5" y="609.4473">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="149.5" y="609.4473">GET /tmdb/_search</text><polygon fill="#181818" points="131.5,639.5,121.5,643.5,131.5,647.5,127.5,643.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="643.5" y2="643.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="137.5" y="638.7578">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="159.5" y="638.7578"> </text><path d="M79,665.5 L153,665.5 L153,672.8105 L143,682.8105 L79,682.8105 L79,665.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="111.2422" style="stroke:#000000;stroke-width:1.5;" width="443.5" x="79" y="665.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="94" y="679.0684">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162" x="168" y="678.1348">[利用する学習アルゴリズム数回]</text><path d="M125,687.8105 L125,712.8105 L472,712.8105 L472,697.8105 L462,687.8105 L125,687.8105 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M462,687.8105 L462,697.8105 L472,697.8105 L462,687.8105 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326" x="131" y="705.3789">java -jar lib/RankLibPlus-0.1.0.jar -ranker 0 ... 実行</text><polygon fill="#181818" points="477.5,735.4316,487.5,739.4316,477.5,743.4316,481.5,739.4316" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="739.4316" y2="739.4316"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="127.5" y="734.6895">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328" x="149.5" y="734.6895">POST _ltr/_featureset/movie_features/_createmodel</text><polygon fill="#181818" points="131.5,764.7422,121.5,768.7422,131.5,772.7422,127.5,768.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="768.7422" y2="768.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="137.5" y="764">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="159.5" y="764"> </text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="532.5" x="0" y="806.7529"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="532.5" y1="806.7529" y2="806.7529"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="532.5" y1="809.7529" y2="809.7529"/><rect fill="#EEEEEE" height="28.0215" style="stroke:#000000;stroke-width:2.0;" width="48" x="242.25" y="793.7422"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="34" x="248.25" y="814.1777">検索</text><path d="M125,836.7637 L125,861.7637 L330,861.7637 L330,846.7637 L320,836.7637 L125,836.7637 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M320,836.7637 L320,846.7637 L330,846.7637 L320,836.7637 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="131" y="854.332">search with learning-to-rank</text><polygon fill="#181818" points="477.5,884.3848,487.5,888.3848,477.5,892.3848,481.5,888.3848" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="888.3848" y2="888.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="127.5" y="883.6426">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="149.5" y="883.6426">GET /tmdb/_search</text><polygon fill="#181818" points="131.5,913.6953,121.5,917.6953,131.5,921.6953,127.5,917.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="917.6953" y2="917.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="137.5" y="912.9531">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="159.5" y="912.9531"> </text><path d="M125,930.6953 L125,955.6953 L351,955.6953 L351,940.6953 L341,930.6953 L125,930.6953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M341,930.6953 L341,940.6953 L351,940.6953 L341,930.6953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="131" y="948.2637">search without learning-to-rank</text><polygon fill="#181818" points="477.5,978.3164,487.5,982.3164,477.5,986.3164,481.5,982.3164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="120.5" x2="483.5" y1="982.3164" y2="982.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="127.5" y="977.5742">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="149.5" y="977.5742">GET /tmdb/_search</text><polygon fill="#181818" points="131.5,1007.627,121.5,1011.627,131.5,1015.627,127.5,1011.627" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="125.5" x2="493.5" y1="1011.627" y2="1011.627"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="137.5" y="1006.8848">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="159.5" y="1006.8848"> </text><polygon fill="#181818" points="53,1036.9375,43,1040.9375,53,1044.9375,49,1040.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="47" x2="114.5" y1="1040.9375" y2="1040.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="59" y="1036.1953">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="81" y="1036.1953"> </text><!--MD5=[e2f2be2c8a83d794b58fbcf44ee23f93]
@startuml es-sequence

hide footbox
skinparam monochrome false

autonumber

Actor developer
participant demo
database es

developer -> demo ++ :

=== インデックス作成・データ投入 ==

demo -> es ++ : DELETE /tmdb
return

demo -> es ++ : PUT /tmdb
return

demo -> es ++ : PUT /tmdb/_bulk
return

=== モデル学習 ==

demo -> es ++ : DELETE /_ltr
return

demo -> es ++ : PUT /_ltr
return

demo -> es ++ : POST /_ltr/_featureset/movie_features
return

loop 利用する判定データのクエリ数回
demo -> es ++ : GET /tmdb/_search
return
end

loop 利用する学習アルゴリズム数回

note right of demo
java -jar lib/RankLibPlus-0.1.0.jar -ranker 0 ... 実行
end note

demo -> es ++ : POST _ltr/_featureset/movie_features/_createmodel
return
end

=== 検索 ==

note right of demo
search with learning-to-rank
end note

demo -> es ++ : GET /tmdb/_search
return

note right of demo
search without learning-to-rank
end note

demo -> es ++ : GET /tmdb/_search
return

return

@enduml

PlantUML version 1.2022.7(Tue Aug 23 02:01:30 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>